# install.sh
#!/bin/bash

echo "ðŸ”§ Run backend initialization..."

composer install --no-interaction --prefer-dist --optimize-autoloader

if [ -f artisan ]; then
    php -r "file_exists('.env') || copy('.env.example', '.env');"
    echo "âœ… Copy env file"

    php artisan key:generate
    echo "âœ… Generate App Key"

    php artisan migrate:fresh --seed --force
    echo "âœ… Migrate Fresh tables and Seeders"

    php artisan passport:keys -n -q
    php artisan passport:client --personal --name="Personal Access Client" --provider=users --no-interaction
    echo "âœ… Generate Passport Keys and Personal Access Client"

    php artisan storage:link
    echo "âœ… Link the storage"

    php artisan cache:clear
    php artisan route:clear
    echo "âœ… Clear Cache"
fi



